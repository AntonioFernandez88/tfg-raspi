<!-- views/pages/index.ejs -->

<!DOCTYPE html>
<html lang="en">
<head>
    <% include ../views/template/head %>
</head>
<body>

<nav>
	<% include ../views/template/nav %>
</nav>

	<h2>Vincular</h2>
	<form class="form-horizontal" method="post" action="/vincular">
     <div class="form-group">
         <label for="inputName" class="control-label col-xs-2">Nombre de Usuario:</label>
         <div class="col-xs-10">
             <input type="text" id="nombre" name="nombre" class="form-control" placeholder="Nombre">
         </div>
     </div>
     <div class="form-group">
         <label for="inputEmail" class="control-label col-xs-2">Mac Pi:</label>
         <div class="col-xs-10">
             <input type="text" id="mac" name="mac" class="form-control" placeholder="Mac Pi">
         </div>
     </div>
     <div class="form-group">
         <label for="inputPassword" class="control-label col-xs-2">Nº Serie:</label>
         <div class="col-xs-10">
             <input type="text" id="nserie" name="nserie" class="form-control" placeholder="Nº Serie">
         </div>
     </div>
     <div class="form-group">
         <div class="col-xs-offset-2 col-xs-10">
             <button type="submit" class="btn btn-primary">Enviar</button>
         </div>
     </div>
</form>

<video id="video" width="640" height="480" autoplay="true"></video>
<button id="snap">Snap Photo</button>
<canvas id="canvas" width="640" height="480"></canvas>

<script type="text/javascript">
    
navigator.getUserMedia = navigator.getUserMedia ||  
                         navigator.webkitGetUserMedia || 
                         navigator.mozGetUserMedia || 
                         navigator.msGetUserMedia;
                          
window.URL = window.URL || 
             window.webkitURL || 
             window.mozURL || 
             window.msURL;
 
window.addEventListener('load', function() {
   
  navigator.getUserMedia({
      video: true
    }, 
    function(stream) {
      var src = window.URL.createObjectURL(stream),
          video = document.querySelector('video');
      video.src = src;      
    }, 
    function(e) {
      console.log(e);
    });
   
}, false);
</script>
    
</body>
</html>


